<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>K. Krishna Vamsi ‚Äî Research Portfolio</title>
  <meta name="description" content="Kasimalla Krishna Vamsi ‚Äî Renewable energy systems, robotics, MPPT, ROS2.">
  <meta name="theme-color" content="#0f172a"/>
  <link rel="canonical" href="https://krishnavamsi333.github.io/Portfolio/">

  <!-- Open Graph & Twitter -->
  <meta property="og:site_name" content="K. Krishna Vamsi ‚Äî Portfolio">
  <meta property="og:title" content="K. Krishna Vamsi ‚Äî Research Portfolio">
  <meta property="og:description" content="Researcher: Renewable energy systems, robotics, MPPT, ROS2.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://krishnavamsi333.github.io/Portfolio/">
  <meta property="og:image" content="https://raw.githubusercontent.com/krishnavamsi333/Portfolio/main/og-image.png">
  <meta property="og:image:type" content="image/png">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="K. Krishna Vamsi ‚Äî Research Portfolio">
  <meta name="twitter:description" content="Researcher: Renewable energy systems, robotics, MPPT, ROS2.">
  <meta name="twitter:image" content="https://raw.githubusercontent.com/krishnavamsi333/Portfolio/main/og-image.png">

  <!-- Preconnect & preload -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <!-- preload avatar & og images so social preview & hero load faster -->
  <link rel="preload" as="image" href="https://raw.githubusercontent.com/krishnavamsi333/Portfolio/main/profile-600.jpg">
  <link rel="preload" as="image" href="https://raw.githubusercontent.com/krishnavamsi333/Portfolio/main/og-image.png">

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;600&display=swap" rel="stylesheet">

  <meta name="keywords" content="MPPT, ROS2, Renewable Energy, Power Electronics, Robotics, Kasimalla Krishna Vamsi">
  <meta name="author" content="K. Krishna Vamsi">

  <!-- Structured data (Person) -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"Person",
    "name":"Kasimalla Krishna Vamsi",
    "url":"https://krishnavamsi333.github.io/Portfolio/",
    "email":"mailto:kasimallakrishnavamsi333@gmail.com",
    "sameAs":[
      "https://github.com/krishnavamsi333"
    ],
    "jobTitle":"Researcher & Engineer"
  }
  </script>

  <style>
    /* -------------------------
       Design tokens & layout
       ------------------------- */
    :root{
      --color-primary:#0f172a;
      --color-secondary:#1e293b;
      --color-accent:#3b82f6;
      --color-accent-2:#2563eb;
      --bg:#ffffff;
      --bg-alt:#f8fafc;
      --text:#1e293b;
      --muted:#64748b;
      --border:#e2e8f0;
      --radius:12px;
      --maxw:1200px;
      --gap:1.25rem;
      --shadow-sm:0 1px 2px rgba(0,0,0,.05);
      --shadow-md:0 6px 20px rgba(2,6,23,.08);
    }

    /* dark */
    :root[data-theme="dark"]{
      --bg:#06121a;
      --bg-alt:#07202a;
      --text:#dbeafe;
      --muted:#9fb7d9;
      --border:rgba(255,255,255,0.04);
    }

    *{box-sizing:border-box;margin:0;padding:0}
    html{font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,Arial;scroll-behavior:smooth}
    body{background:var(--bg);color:var(--text);line-height:1.6;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}

    /* skip link ‚Äî visible on focus */
    .skip-link{position:absolute;left:-999px;top:auto;width:1px;height:1px;overflow:hidden}
    .skip-link:focus{left:12px;top:12px;width:auto;height:auto;padding:.5rem .75rem;background:var(--bg);color:var(--color-primary);border-radius:8px;z-index:9999;border:1px solid var(--border)}

    header.site-header{
      background:linear-gradient(135deg,var(--color-primary),var(--color-secondary));
      color:white;padding:4.5rem 1.25rem;text-align:center;position:relative;overflow:hidden
    }
    .header-inner{max-width:var(--maxw);margin:0 auto;position:relative;z-index:2;display:flex;flex-direction:column;align-items:center;gap:.75rem}
    .site-title{font-size:2.4rem;font-weight:800;line-height:1.05;margin-bottom:.25rem;background:linear-gradient(90deg,#fff,#dbeafe);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
    .site-sub{max-width:720px;text-align:center;font-weight:500;color:rgba(255,255,255,.95)}
    .meta-row{display:flex;gap:.6rem;margin-top:1rem;flex-wrap:wrap}
    .meta-pill{background:rgba(255,255,255,.08);padding:.45rem .85rem;border-radius:999px;display:inline-flex;gap:.5rem;align-items:center;backdrop-filter: blur(6px)}

    /* dark button / toggle */
    .controls{display:flex;gap:.5rem;align-items:center;margin-top:.75rem}
    .btn-ghost{background:transparent;border:1px solid rgba(255,255,255,.12);color:#fff;padding:.45rem .6rem;border-radius:8px;cursor:pointer}
    .dark-toggle{display:inline-flex;align-items:center;gap:.5rem;background:rgba(255,255,255,.06);border-radius:999px;padding:.2rem .45rem;border:1px solid rgba(255,255,255,.08);color:#fff;font-weight:600}

    nav.site-nav{background:var(--bg);border-bottom:1px solid var(--border);position:sticky;top:0;z-index:60;backdrop-filter: blur(6px)}
    .nav-list{display:flex;justify-content:center;gap:1rem;max-width:var(--maxw);margin:0 auto;padding:.25rem .5rem;list-style:none}
    .nav-list a{display:inline-block;padding:.7rem 1rem;text-decoration:none;color:var(--text);font-weight:600;border-radius:8px;position:relative}
    .nav-list a:focus{outline:2px solid var(--color-accent);outline-offset:3px}

    main.container{max-width:var(--maxw);margin:2rem auto;padding:0 1rem}
    .section{background:var(--bg-alt);border-radius:var(--radius);padding:2rem;margin-bottom:1.5rem;border:1px solid var(--border);box-shadow:var(--shadow-sm);transition:transform .18s ease,box-shadow .18s ease}
    .section:focus-within{box-shadow:var(--shadow-md);transform:translateY(-3px)}
    .section-header{display:flex;align-items:end;gap:1rem;margin-bottom:1rem}
    .section-title{font-size:1.35rem;color:var(--text);font-weight:800}

    /* about grid */
    .about-grid{display:grid;grid-template-columns:260px 1fr;gap:1.25rem;align-items:start}
    .avatar{width:100%;border-radius:14px;object-fit:cover;box-shadow:var(--shadow-md);transition:transform .2s ease}
    .avatar:hover{transform:scale(1.02)}
    .about-text{font-size:1.02rem;color:var(--text);margin-bottom:.6rem}

    .tags{display:flex;flex-wrap:wrap;gap:.5rem;margin-top:.8rem}
    .tag{background:var(--bg);padding:.35rem .7rem;border-radius:999px;border:1px solid var(--border);font-weight:700;color:var(--color-primary)}

    .actions{display:flex;gap:.6rem;margin-top:.9rem}
    .btn{display:inline-flex;align-items:center;gap:.5rem;padding:.6rem .9rem;border-radius:10px;font-weight:700;text-decoration:none}
    .btn-primary{background:var(--color-accent);color:#fff}
    .btn-outline{background:transparent;border:1px solid var(--color-accent);color:var(--color-accent)}

    /* publications */
    .pub-list{display:flex;flex-direction:column;gap:1rem}
    .pub{padding:1rem;border-left:4px solid var(--color-accent);background:var(--bg);border-radius:8px;display:flex;flex-direction:column;gap:.35rem}
    .pub .title{font-weight:800;color:var(--text)}
    .pub .meta{color:var(--muted);font-size:.95rem}
    .pub-actions{display:flex;gap:.5rem;margin-top:.5rem}

    /* projects */
    .projects{display:flex;flex-direction:column;gap:1rem}
    .project{display:grid;grid-template-columns:160px 1fr;gap:1rem;padding:1rem;border-radius:10px;background:var(--bg);border:1px solid var(--border);align-items:center}
    .thumb{height:120px;border-radius:8px;display:flex;align-items:center;justify-content:center;color:#fff;font-weight:700}
    .techs{display:flex;gap:.4rem;flex-wrap:wrap;margin-top:.6rem}
    .tech{background:var(--color-primary);color:#fff;padding:.2rem .55rem;border-radius:6px;font-size:.78rem;font-weight:700}

    /* contact grid */
    .contact-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:1rem}

    /* back-to-top */
    .back-to-top{position:fixed;right:1.25rem;bottom:1.25rem;background:var(--color-accent);color:#fff;width:44px;height:44px;border-radius:50%;display:flex;align-items:center;justify-content:center;box-shadow:var(--shadow-md);opacity:0;visibility:hidden;transition:all .25s ease;z-index:200}
    .back-to-top.visible{opacity:1;visibility:visible}

    /* focus only when tabbing */
    :root.user-is-tabbing *:focus{outline:3px solid rgba(59,130,246,.28);outline-offset:3px}

    @media (max-width:880px){
      .about-grid{grid-template-columns:1fr; text-align:center}
      .nav-list{padding:.25rem}
      .project{grid-template-columns:1fr}
      .thumb{height:100px}
    }
  </style>
</head>
<body>

  <!-- skip link -->
  <a class="skip-link" href="#main">Skip to main content</a>

  <!-- Header -->
  <header class="site-header" role="banner">
    <div class="header-inner">
      <div style="display:flex;gap:.6rem;align-items:center;justify-content:center;">
        <h1 class="site-title">Kasimalla Krishna Vamsi</h1>
      </div>

      <p class="site-sub">Researcher &amp; Engineer ‚Äî Renewable energy systems, robotics, MPPT, ROS2</p>

      <div class="meta-row" aria-hidden="false">
        <div class="meta-pill">üìß <span style="font-weight:600">kasimallakrishnavamsi333@gmail.com</span></div>
        <div class="meta-pill">üì± <span style="font-weight:600">+91 9392039416</span></div>
        <div class="meta-pill">üìç <span style="font-weight:600">VRSEC ¬∑ JNTUK</span></div>
      </div>

      <div class="controls" aria-hidden="false">
        <!-- Dark mode toggle -->
        <button id="darkToggle" class="dark-toggle" aria-pressed="false" title="Toggle dark mode">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" aria-hidden="true" focusable="false">
            <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z" fill="currentColor"/>
          </svg>
          Dark
        </button>
      </div>
    </div>
  </header>

  <!-- Navigation -->
  <nav class="site-nav" role="navigation" aria-label="Main navigation">
    <ul class="nav-list" role="menubar" aria-label="Primary">
      <li role="none"><a role="menuitem" class="nav-link" href="#about">About</a></li>
      <li role="none"><a role="menuitem" class="nav-link" href="#research">Research Areas</a></li>
      <li role="none"><a role="menuitem" class="nav-link" href="#publications">Publications</a></li>
      <li role="none"><a role="menuitem" class="nav-link" href="#projects">Projects</a></li>
      <li role="none"><a role="menuitem" class="nav-link" href="#contact">Contact</a></li>
    </ul>
  </nav>

  <!-- Main -->
  <main id="main" class="container" role="main" tabindex="-1">

    <!-- About -->
    <section id="about" class="section" aria-labelledby="about-title">
      <div class="section-header">
        <h2 id="about-title" class="section-title">About</h2>
      </div>

      <div class="about-grid">
        <img class="avatar" alt="Portrait of Kasimalla Krishna Vamsi"
             src="https://raw.githubusercontent.com/krishnavamsi333/Portfolio/main/profile-600.jpg"
             srcset="https://raw.githubusercontent.com/krishnavamsi333/Portfolio/main/profile-300.jpg 300w, https://raw.githubusercontent.com/krishnavamsi333/Portfolio/main/profile-600.jpg 600w, https://raw.githubusercontent.com/krishnavamsi333/Portfolio/main/profile-1200.jpg 1200w"
             sizes="(max-width:880px) 280px, 260px"
             loading="lazy" decoding="async">

        <div>
          <p class="about-text">I am a dedicated researcher and engineer specializing in renewable energy systems and agricultural robotics. My work focuses on practical, scalable solutions for energy harvesting and autonomous field operations.</p>

          <p class="about-text">Currently developing MPPT algorithms for portable solar charging and ROS2-based precision agriculture robots using reinforcement learning and computer vision.</p>

          <div class="tags" aria-hidden="true">
            <span class="tag">MPPT</span><span class="tag">Power Electronics</span><span class="tag">ROS2</span>
            <span class="tag">Reinforcement Learning</span><span class="tag">MATLAB/Simulink</span><span class="tag">Computer Vision</span>
          </div>

          <div class="actions" style="margin-top:1rem;">
            <a class="btn btn-primary" href="https://github.com/krishnavamsi333/Portfolio/raw/main/CV_KV.pdf" target="_blank" rel="noopener noreferrer">
              <!-- download icon -->
              <svg width="14" height="14" viewBox="0 0 16 16" fill="currentColor" aria-hidden="true"><path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"/><path d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z"/></svg>
              Download CV
            </a>

            <a class="btn btn-outline" href="https://github.com/krishnavamsi333" target="_blank" rel="noopener noreferrer">
              View GitHub
            </a>
          </div>
        </div>
      </div>
    </section>

    <!-- Research Areas -->
    <section id="research" class="section" aria-labelledby="research-title">
      <div class="section-header">
        <h2 id="research-title" class="section-title">Research Areas</h2>
      </div>

      <div class="card-grid" role="list" aria-label="Research areas">
        <div class="card" role="listitem"><h3 class="card-title">Renewable Energy Systems</h3><p class="card-description">MPPT algorithms, power conversion and storage optimization for portable and grid-tied applications.</p></div>
        <div class="card" role="listitem"><h3 class="card-title">Agricultural Robotics</h3><p class="card-description">ROS2-based navigation, perception and manipulation for harvesting and monitoring.</p></div>
        <div class="card" role="listitem"><h3 class="card-title">Power Electronics</h3><p class="card-description">Design and simulation of DC-DC converters, inverters, and controllers in MATLAB/Simulink.</p></div>
        <div class="card" role="listitem"><h3 class="card-title">Autonomous Navigation</h3><p class="card-description">URDF modeling, Gazebo simulation, SLAM and field deployment strategies.</p></div>
      </div>
    </section>

    <!-- Publications -->
    <section id="publications" class="section" aria-labelledby="publications-title">
      <div class="section-header">
        <h2 id="publications-title" class="section-title">Publications</h2>
      </div>

      <div class="pub-list" aria-live="polite">
        <!-- Replace titles/authors/venue with exact metadata if available -->
        <article class="pub" aria-labelledby="pub1">
          <div id="pub1" class="title">A Novel MPPT Algorithm for Portable Solar Charging Systems</div>
          <div class="meta">K. Krishna Vamsi, et al. ‚Äî IEEE Conference on Renewable Energy Systems, 2024</div>
          <div class="pub-actions">
            <a class="publication-link" href="https://ieeexplore.ieee.org/document/10984594" target="_blank" rel="noopener noreferrer">IEEE Xplore</a>
          </div>
        </article>

        <article class="pub" aria-labelledby="pub2">
          <div id="pub2" class="title">ROS2-Based Autonomous Navigation for Agricultural Robots</div>
          <div class="meta">K. Krishna Vamsi, et al. ‚Äî IEEE ICRA, 2024</div>
          <div class="pub-actions">
            <a class="publication-link" href="https://ieeexplore.ieee.org/document/10984934" target="_blank" rel="noopener noreferrer">IEEE Xplore</a>
          </div>
        </article>

        <article class="pub" aria-labelledby="pub3">
          <div id="pub3" class="title">Reinforcement Learning for Precision Agriculture Applications</div>
          <div class="meta">K. Krishna Vamsi, et al. ‚Äî IEEE Transactions on Agricultural Robotics, 2024</div>
          <div class="pub-actions">
            <a class="publication-link" href="https://ieeexplore.ieee.org/document/10984602" target="_blank" rel="noopener noreferrer">IEEE Xplore</a>
          </div>
        </article>
      </div>
    </section>

    <!-- Projects -->
    <section id="projects" class="section" aria-labelledby="projects-title">
      <div class="section-header">
        <h2 id="projects-title" class="section-title">Projects</h2>
      </div>

      <div class="projects" role="list">
        <article class="project" role="listitem" aria-labelledby="p1">
          <div class="thumb" style="background:linear-gradient(135deg,#667eea,#764ba2)"><svg width="34" height="34" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M6 2h8l4 4v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2z"/></svg></div>
          <div>
            <h3 id="p1" class="project-title">UCHCHAIHSHRAVA ‚Äî ROS Agropilot</h3>
            <p class="project-description">Autonomous navigation system for field robots ‚Äî URDF modeling, Gazebo simulation, optimized field coverage and obstacle avoidance.</p>
            <div class="techs" aria-hidden="true"><span class="tech">ROS2</span><span class="tech">Gazebo</span><span class="tech">Navigation</span></div>
            <div style="margin-top:.6rem"><a class="btn btn-outline" href="https://github.com/krishnavamsi333/uchchaihshrava-ros-agropilot" target="_blank" rel="noopener noreferrer">View on GitHub</a></div>
          </div>
        </article>

        <article class="project" role="listitem" aria-labelledby="p2">
          <div class="thumb" style="background:linear-gradient(135deg,#4facfe,#00f2fe)"><svg width="34" height="34" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M12 2l3 6 6 .5-4.5 3.5L18 20l-6-3-6 3 1.5-8L3 8.5 9 8 12 2z"/></svg></div>
          <div>
            <h3 id="p2" class="project-title">Portable Solar Charging System</h3>
            <p class="project-description">MPPT algorithm in MATLAB/Simulink for efficient e-bike charging and battery management; robust under varying irradiance and temperature.</p>
            <div class="techs" aria-hidden="true"><span class="tech">MATLAB</span><span class="tech">Simulink</span><span class="tech">MPPT</span></div>
            <div style="margin-top:.6rem"><a class="btn btn-outline" href="https://github.com/krishnavamsi333/portable-solar-charger" target="_blank" rel="noopener noreferrer">View on GitHub</a></div>
          </div>
        </article>

        <article class="project" role="listitem" aria-labelledby="p3">
          <div class="thumb" style="background:linear-gradient(135deg,#f093fb,#f5576c)"><svg width="34" height="34" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M12 2a6 6 0 0 0-6 6v5.5a1.5 1.5 0 0 0 .44 1.06L8 16v3h8v-3l1.56-1.44A1.5 1.5 0 0 0 18 13.5V8a6 6 0 0 0-6-6z"/></svg></div>
          <div>
            <h3 id="p3" class="project-title">Precision Chili Harvesting Robot</h3>
            <p class="project-description">Camera-guided robot using ROS2 and RL to detect ripe chilies and control the manipulator for selective harvesting.</p>
            <div class="techs" aria-hidden="true"><span class="tech">ROS2</span><span class="tech">Python</span><span class="tech">Computer Vision</span></div>
            <div style="margin-top:.6rem"><a class="btn btn-outline" href="https://github.com/krishnavamsi333/chili-harvester" target="_blank" rel="noopener noreferrer">View on GitHub</a></div>
          </div>
        </article>
      </div>
    </section>

    <!-- Contact -->
    <section id="contact" class="section" aria-labelledby="contact-title">
      <div class="section-header">
        <h2 id="contact-title" class="section-title">Get in touch</h2>
      </div>
      <div class="contact-grid">
        <div class="card"><h4 class="card-title">Email</h4><p class="card-description"><a href="mailto:kasimallakrishnavamsi333@gmail.com">kasimallakrishnavamsi333@gmail.com</a></p></div>
        <div class="card"><h4 class="card-title">Phone</h4><p class="card-description"><a href="tel:+919392039416">+91 9392039416</a></p></div>
        <div class="card"><h4 class="card-title">GitHub</h4><p class="card-description"><a href="https://github.com/krishnavamsi333" target="_blank" rel="noopener noreferrer">@krishnavamsi333</a></p></div>
        <div class="card"><h4 class="card-title">Institution</h4><p class="card-description">Velagapudi Ramakrishna Siddhartha Engineering College ‚Äî JNTUK</p></div>
      </div>
    </section>

  </main>

  <footer style="background:var(--color-primary);color:#fff;padding:2rem;text-align:center;">
    <div style="max-width:var(--maxw);margin:0 auto;">
      <div style="font-weight:700">&copy; 2025 Kasimalla Krishna Vamsi</div>
      <div style="opacity:.85;margin-top:.35rem">Researcher in Renewable Energy & Robotics</div>
    </div>
  </footer>

  <!-- Back to top -->
  <a class="back-to-top" href="#main" aria-label="Back to top" id="backToTop">
    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
      <path d="M12 5v14M5 12l7-7 7 7" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
    </svg>
  </a>

  <script>
  (function(){
    // keyboard-only outlines
    function handleFirstTab(e){ if(e.key==='Tab'){ document.documentElement.classList.add('user-is-tabbing'); window.removeEventListener('keydown', handleFirstTab); } }
    window.addEventListener('keydown', handleFirstTab);

    // Ensure external links have rel noopener (defensive)
    Array.from(document.querySelectorAll('a[target="_blank"]')).forEach(a=>{
      const rel = a.getAttribute('rel') || '';
      if(!/noopener/.test(rel) || !/noreferrer/.test(rel)) a.setAttribute('rel', (rel+' noopener noreferrer').trim());
    });

    // Back to top visibility & smooth focus
    const back = document.getElementById('backToTop');
    function checkScroll(){
      if(window.pageYOffset > 300){ back.classList.add('visible'); }
      else { back.classList.remove('visible'); }
    }
    window.addEventListener('scroll', checkScroll);
    checkScroll();

    // Smooth anchor scrolling with offset (header)
    document.querySelectorAll('a[href^="#"]').forEach(a=>{
      a.addEventListener('click', function(e){
        const href = this.getAttribute('href');
        if(href.length>1 && document.querySelector(href)){
          e.preventDefault();
          const el = document.querySelector(href);
          const top = el.getBoundingClientRect().top + window.pageYOffset - 80;
          window.scrollTo({top, behavior:'smooth'});
          el.setAttribute('tabindex','-1'); // ensure focusable
          el.focus({preventScroll:true});
        }
      });
    });

    // Dark mode toggle (persist)
    const toggle = document.getElementById('darkToggle');
    function applyTheme(t){
      if(t === 'dark') document.documentElement.setAttribute('data-theme','dark');
      else document.documentElement.removeAttribute('data-theme');
      toggle.setAttribute('aria-pressed', t==='dark');
    }
    // load preference
    const saved = localStorage.getItem('kv_theme') || (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
    applyTheme(saved);
    toggle.addEventListener('click', ()=>{
      const now = document.documentElement.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';
      applyTheme(now);
      localStorage.setItem('kv_theme', now);
    });

  })();
  </script>
</body>
</html>
